function _arrayLikeToArray(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,a=new Array(r);t<r;t++)a[t]=e[t];return a}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _unsupportedIterableToArray(e,r){if(e){if("string"==typeof e)return _arrayLikeToArray(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,r):void 0}}onmessage=function(e){var r,t,a=new Set,n=0,o=e.data,i=o.length,l=!0,s=!1,c=void 0;try{for(var y,u=o[Symbol.iterator]();!(l=(y=u.next()).done);l=!0){var f=y.value,m=f.name,d=void 0,h=void 0,p=void 0;m.toLowerCase().match(/(am\.[^.]*$|pm\.[^.]*$)/)&&(h=m.match(/(20\d\d).?([0-1]\d).?([0-3]\d)/)||Array(4).fill(""),p=(m=(m=(m=m.replace(h[1],"")).replace(h[2],"")).replace(h[3],"")).match(/([ 12]\d).?([0-5]\d).?([0-5]\d)/)||Array(4).fill(""),h=h.map((function(e){return parseInt(e)})),(p=p.map((function(e){return parseInt(e)})))[1]+=m.toLowerCase().match(/am\.[^.]*$/)?0:12,d=new Date(h[1],h[2]-1,h[3],p[1],p[2],p[3]).getTime()),d||(h=m.match(/(20\d\d).?([0-1]\d).?([0-3]\d)/)||Array(4).fill(""),p=(m=(m=(m=m.replace(h[1],"")).replace(h[2],"")).replace(h[3],"")).match(/([0-2]\d).?([0-5]\d).?([0-5]\d)/)||Array(4).fill(""),h=h.map((function(e){return parseInt(e)})),p=p.map((function(e){return parseInt(e)})),d=new Date(h[1],h[2]-1,h[3],p[1],p[2],p[3]).getTime()),d||(d=f.lastModified),d<Date.now()+1728e5&&(d+=-6e4*new Date(d).getTimezoneOffset(),a.add(d)),n++;var g=Math.round(n/i*100);postMessage("Files processed: ".concat(g,"% (").concat(n,"/").concat(i,")"))}}catch(e){s=!0,c=e}finally{try{l||null==u.return||u.return()}finally{if(s)throw c}}postMessage("Sorting screenshots"),(a=Array.from(a)).sort((function(e,r){return e-r})),postMessage("Generating stats from screenshots");var v=Array(7).fill(0);a.forEach((function(e){var r=6e4*new Date(e).getTimezoneOffset();return v[new Date(e+r).getDay()]++}));for(var A=Array(7).fill(0),D=1;D<a.length;D++)if(a[D]-a[D-1]<12e5){var w=6e4*new Date(a[D]).getTimezoneOffset();A[new Date(a[D]+w).getDay()]+=a[D]-a[D-1]}var b=Array(24).fill(0);a.forEach((function(e){var r=6e4*new Date(e).getTimezoneOffset();return b[new Date(e+r).getHours()]++}));var _={},T=!0,S=!1,O=void 0;try{for(var I,M=a[Symbol.iterator]();!(T=(I=M.next()).done);T=!0){var P=I.value,k=new Date(P).toISOString().slice(0,10),j=new Date(k).getTime();_[j]=1+(_[j]||0)}}catch(e){S=!0,O=e}finally{try{T||null==M.return||M.return()}finally{if(S)throw O}}for(var x={},C=1;C<a.length;C++)if(a[C]-a[C-1]<12e5){var L=new Date(a[C]).toISOString().slice(0,10),z=new Date(L).getTime();x[z]=a[C]-a[C-1]+(x[z]||0)}var E=Array(12).fill(0);a.forEach((function(e){var r=6e4*new Date(e).getTimezoneOffset();return E[new Date(e+r).getMonth()]++})),postMessage("Finishing touches");var F={};F.validFilesAmount=a.length,F.totalFiles=o.length,F.screenshotsPerDay_Week=v,F.millisecondsPerDay_Week=A,F.screenshotsPerHour_Day=b,F.screenshotsPerDay_Playtime=_,F.millisecondsPerDay_Playtime=x,F.screenshotsPerMonth_Playtime=E,F.daysSkyOpened=Object.keys(_).length,F.millisecondsPlayedTotal=A.reduce((function(e,r){return e+r}),0),F.screenshotsTotal=v.reduce((function(e,r){return e+r}),0),F.maxScreenshotsOnADay=(r=Math).max.apply(r,_toConsumableArray(Object.values(_))),F.maxMillisecondsOnADay=(t=Math).max.apply(t,_toConsumableArray(Object.values(x))),postMessage(F)};
//# sourceMappingURL=generate-creation-dates.fbfb4eea.js.map
