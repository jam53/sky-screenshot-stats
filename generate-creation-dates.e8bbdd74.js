function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function t(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(t,r){if(t){if("string"==typeof t)return e(t,void 0);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e(t,void 0)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}onmessage=function(e){var r=new Set,n=0,a=e.data,o=a.length,i=!0,l=!1,s=void 0;try{for(var c,f,u,m=a[Symbol.iterator]();!(i=(u=m.next()).done);i=!0){var d=u.value,y=d.name,h=void 0,g=void 0,p=void 0;y.toLowerCase().match(/(am\.[^.]*$|pm\.[^.]*$)/)&&(g=y.match(/(20\d\d).?([0-1]\d).?([0-3]\d)/)||[,,,,].fill(""),p=(y=(y=(y=y.replace(g[1],"")).replace(g[2],"")).replace(g[3],"")).match(/([ 12]\d).?([0-5]\d).?([0-5]\d)/)||[,,,,].fill(""),g=g.map(function(e){return parseInt(e)}),p=p.map(function(e){return parseInt(e)}),p[1]+=y.toLowerCase().match(/am\.[^.]*$/)?0:12,h=new Date(g[1],g[2]-1,g[3],p[1],p[2],p[3]).getTime()),h||(g=y.match(/(20\d\d).?([0-1]\d).?([0-3]\d)/)||[,,,,].fill(""),p=(y=(y=(y=y.replace(g[1],"")).replace(g[2],"")).replace(g[3],"")).match(/([0-2]\d).?([0-5]\d).?([0-5]\d)/)||[,,,,].fill(""),g=g.map(function(e){return parseInt(e)}),p=p.map(function(e){return parseInt(e)}),h=new Date(g[1],g[2]-1,g[3],p[1],p[2],p[3]).getTime()),h||(h=d.lastModified),h<Date.now()+1728e5&&(h+=-6e4*new Date(h).getTimezoneOffset(),r.add(h)),n++;var v=Math.round(n/o*100);postMessage("Files processed: ".concat(v,"% (").concat(n,"/").concat(o,")"))}}catch(e){l=!0,s=e}finally{try{i||null==m.return||m.return()}finally{if(l)throw s}}postMessage("Sorting screenshots"),(r=Array.from(r)).sort(function(e,t){return e-t}),postMessage("Generating stats from screenshots");var D=Array(7).fill(0);r.forEach(function(e){var t=6e4*new Date(e).getTimezoneOffset();return D[new Date(e+t).getDay()]++});for(var w=Array(7).fill(0),A=1;A<r.length;A++)if(r[A]-r[A-1]<12e5){var O=6e4*new Date(r[A]).getTimezoneOffset(),S=new Date(r[A]+O).getDay();w[S]+=r[A]-r[A-1]}var b=Array(24).fill(0);r.forEach(function(e){var t=6e4*new Date(e).getTimezoneOffset();return b[new Date(e+t).getHours()]++});var M={},T=!0,P=!1,I=void 0;try{for(var j,x=r[Symbol.iterator]();!(T=(j=x.next()).done);T=!0){var _=j.value,z=new Date(_).toISOString().slice(0,10),k=new Date(z).getTime();M[k]=1+(M[k]||0)}}catch(e){P=!0,I=e}finally{try{T||null==x.return||x.return()}finally{if(P)throw I}}for(var E={},F=1;F<r.length;F++)if(r[F]-r[F-1]<12e5){var $=new Date(new Date(r[F]).toISOString().slice(0,10)).getTime();E[$]=r[F]-r[F-1]+(E[$]||0)}var C=Array(12).fill(0);r.forEach(function(e){var t=6e4*new Date(e).getTimezoneOffset();return C[new Date(e+t).getMonth()]++}),postMessage("Finishing touches");var H={};H.validFilesAmount=r.length,H.totalFiles=a.length,H.screenshotsPerDay_Week=D,H.millisecondsPerDay_Week=w,H.screenshotsPerHour_Day=b,H.screenshotsPerDay_Playtime=M,H.millisecondsPerDay_Playtime=E,H.screenshotsPerMonth_Playtime=C,H.daysSkyOpened=Object.keys(M).length,H.millisecondsPlayedTotal=w.reduce(function(e,t){return e+t},0),H.screenshotsTotal=D.reduce(function(e,t){return e+t},0),H.maxScreenshotsOnADay=(c=Math).max.apply(c,t(Object.values(M))),H.maxMillisecondsOnADay=(f=Math).max.apply(f,t(Object.values(E))),postMessage(H)};
//# sourceMappingURL=generate-creation-dates.e8bbdd74.js.map
